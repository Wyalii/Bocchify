<header>
    <div *ngIf="blurService.blur() === false" class="box1" routerLink="/">
      <img [src]="'/Bochi.jpeg'" alt="Bocchify" class="logo" > 
      <h1>Bocchify.</h1>
    </div>

    <div class="box2">
      <input [(ngModel)]="searchQuery" type="search" class="search" placeholder="Search..." [ngClass]="themeService.themeSignal()" (keydown.enter)="onSearch()">
      <img (click)="onSearch()" src="/search.png" alt="search" class="glass">
      
    </div>

    <ng-container *ngIf="authChecked">
      <ng-container *ngIf="!isUserAuthenticated; else profileTemplate">
        <div class="registration-login-container">
          <button class="register" [ngClass]="themeService.themeSignal()" routerLink="register">Register</button>
          <hr class="vertical">
          <button class="login" [ngClass]="themeService.themeSignal()" routerLink="login">Login</button>
        </div>
      </ng-container>
    </ng-container>

    <ng-template #profileTemplate>
      <div class="user-profile-container">
        <img [src]="profilePicture" *ngIf="profilePicture" class="pfp" [routerLink]="['/profile', username]">
        <img src="/Pfp.jpeg" *ngIf="!profilePicture" class="pfp" [routerLink]="['/profile', username]">
        <p [routerLink]="['/profile', username]">{{username}}</p>
      </div>
      <button [ngClass]="themeService.themeSignal()" class="logoutBtn" (click)="logout()">Logout</button>
    </ng-template>

    <img *ngIf="blurService.blur() === false" (click)="toggleMenu()" class="burger-menu-img" src="/menu.png" alt="menu-img">

    <div *ngIf="blurService.blur() === false" class="mode-container">
      <input class="slide" [ngClass]="themeService.themeSignal()"readonly disabled>
      <Theme-Button class="theme-btn" [ngClass]="slideClass" (click)="handleAnimation()"></Theme-Button>
    </div>
    
</header>
